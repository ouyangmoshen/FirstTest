edit by ouyangjian, not using bash.